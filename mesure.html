<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8"/>
  <title>Mesure By YN</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" sizes="180x180" href="icon180.png">
  <link rel="apple-touch-icon" sizes="152x152" href="icon152.png">
  <link rel="apple-touch-icon" sizes="120x120" href="icon120.png">
  <meta name="theme-color" content="#FFA500">
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #fdfaf6;
      margin: 0;
      padding: 0;
      color: #3e2f1c;
      text-align: center;
    }
    header {
      background: linear-gradient(90deg,#8B4513,#FFA500,#228B22);
      color: white;
      padding: 20px;
    }
    header img {
      width: 80px;
      margin-bottom: 10px;
    }
    h1 {
      margin: 0;
      font-size: 2em;
    }
    p.slogan {
      margin: 5px 0 15px;
      font-style: italic;
    }
    form {
      max-width: 600px;
      margin: 30px auto;
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    form h2 {
      color: #8B4513;
      margin-top: 20px;
    }
    input {
      width: 90%;
      padding: 10px;
      margin: 8px 0;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
    button {
      width: 95%;
      padding: 12px;
      background: #FFA500;
      color: white;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      transition: 0.3s;
    }
    button:hover {
      transform: scale(1.05);
      background: #228B22;
    }
    .client-list {
      max-width: 600px;
      margin: 20px auto;
      text-align: left;
    }
    .client-list h3 {
      color: #8B4513;
    }
    .client-item {
      background: #fff;
      padding: 10px;
      margin: 5px 0;
      border-radius: 6px;
      box-shadow: 0 1px 4px rgba(0,0,0,0.1);
      cursor: pointer;
    }
    .mesure-details {
      max-width: 600px;
      margin: 20px auto;
      background: #fff;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      text-align: left;
    }
    footer {
      background: #3e2f1c;
      color: white;
      padding: 10px;
      margin-top: 40px;
    }
  </style>
</head>
<body>
  <header>
    <img src="icon.png" alt="Logo Mesure-by-YN">
    <h1>Mesure-by-YN</h1>
    <p class="slogan">L’outil digital des couturiers modernes</p>
  </header>

  <form id="mesureForm">
    <h2>Informations client</h2>
    <input type="text" name="nom" placeholder="Nom" required>
    <input type="tel" name="tel" placeholder="Téléphone" required>
    <input type="date" name="date">

    <h2>Mesures</h2>
    <input type="text" name="ep" placeholder="EP">
    <input type="text" name="cou" placeholder="Tour de cou">
    <input type="text" name="poitrine" placeholder="Poitrine">
    <input type="text" name="taille" placeholder="Taille">
    <input type="text" name="manches" placeholder="Manches">
    <input type="text" name="t_manches" placeholder="T. Manches">
    <input type="text" name="ceinture" placeholder="Ceinture">
    <input type="text" name="hanches" placeholder="Hanches">
    <input type="text" name="fesse" placeholder="Fesse">
    <input type="text" name="blouse" placeholder="Blouse">
    <input type="text" name="cuisses" placeholder="Cuisses">
    <input type="text" name="genou" placeholder="Genou">
    <input type="text" name="l_robe" placeholder="Longueur robe">
    <input type="text" name="l_pantalon" placeholder="Longueur pantalon">
    <input type="text" name="l_jupe" placeholder="Longueur jupe">
    <input type="text" name="l_taille_basse" placeholder="Longueur taille basse">
    <input type="text" name="l_robe_demi" placeholder="Longueur robe demi-long">
    <input type="text" name="l_boubou" placeholder="Longueur boubou">
    <input type="text" name="l_grand_boubou" placeholder="Longueur grand boubou">
    <input type="text" name="bas" placeholder="Bas">

    <h2>Paiement</h2>
    <input type="number" name="avance" placeholder="Avance">
    <input type="number" name="reste" placeholder="Reste">
    <input type="number" name="solde" placeholder="Solde">

    <button type="submit">Enregistrer</button>
  </form>
  <div class="client-list">
  <h3>Clients enregistrés</h3>
  <input type="text" id="searchInput" placeholder="Rechercher par nom ou téléphone" style="width:95%;padding:10px;margin-bottom:15px;border-radius:6px;border:1px solid #ccc;">
  <div id="clientsContainer"></div>
  <div class="client-list">
  <h3>Clients enregistrés</h3>
  <input type="text" id="searchInput" placeholder="Rechercher par nom ou téléphone" style="width:95%;padding:10px;margin-bottom:15px;border-radius:6px;border:1px solid #ccc;">
  <div id="clientsContainer"></div>
  <button onclick="exportJSON()">Exporter en JSON</button>
  <button onclick="exportCSV()">Exporter en CSV</button>
</div>


  <div class="mesure-details" id="mesureDetails" style="display:none;"></div>

  <footer>
    <p>&copy; 2025 Mesure-by-YN – Tous droits réservés</p>
  </footer>

  <script>
    const form = document.getElementById("mesureForm");
    const clientsContainer = document.getElementById("clientsContainer");
    const mesureDetails = document.getElementById("mesureDetails");

    form.addEventListener("submit", function(e) {
      e.preventDefault();
      const data = {};
      Array.from(form.elements).forEach(el => {
        if (el.name) data[el.name] = el.value;
      });

      let clients = JSON.parse(localStorage.getItem("clients")) || [];
      clients.push(data);
      localStorage.setItem("clients", JSON.stringify(clients));
      form.reset();
      loadClients();
    });

    function loadClients() {
      clientsContainer.innerHTML = "";
      let clients = JSON.parse(localStorage.getItem("clients")) || [];
      clients.forEach((client, index) => {
        const div = document.createElement("div");
        div.className = "client-item";
        div.textContent = `${client.nom} – ${client.tel}`;
        div.onclick = () => showMesures(client);
        clientsContainer.appendChild(div);
      });
    }

    function showMesures(client) {
      mesureDetails.innerHTML = `<h3>Mesures de ${client.nom}</h3>`;
      for (let key in client) {
        if (key !== "nom" && key !== "tel" && key !== "date") {
          mesureDetails.innerHTML += `<p><strong>${key}:</strong> ${client[key]}</p>`;
        }
      }
      mesureDetails.style.display = "block";
    }

    loadClients();
  </script>
</body>
</html>

